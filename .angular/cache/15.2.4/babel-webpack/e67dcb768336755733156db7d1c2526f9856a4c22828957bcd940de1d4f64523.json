{"ast":null,"code":"import { WebSocketSubject } from 'rxjs/webSocket';\nimport * as i0 from \"@angular/core\";\nvar socketConfig = {\n  url: 'ws://localhost:8093/tache-socket/topic',\n  openObserver: {\n    next: function () {\n      return console.log('Connection to WebSocket is opened');\n    }\n  },\n  closeObserver: {\n    next: function () {\n      return console.log('Connection to WebSocket is closed');\n    }\n  },\n  protocol: 'ws',\n  deserializer: function (e) {\n    return JSON.parse(e.data);\n  },\n  serializer: function (value) {\n    return JSON.stringify(value);\n  }\n  // Reconnection options\n  // Additional headers\n};\n\nvar WebSocketTicketTacheService = /** @class */function () {\n  function WebSocketTicketTacheService() {}\n  WebSocketTicketTacheService.prototype.connect = function () {\n    // remplacer 'localhost:8080' par votre URL de point de terminaison WebSocket\n    this.socket$ = new WebSocketSubject(socketConfig);\n    // écoute les messages entrants du serveur\n    this.socket$.subscribe(function (msg) {\n      return console.log('message received: ', msg);\n    }, function (err) {\n      return console.error('erreur est : ', err);\n    }, function () {\n      return console.log('completed');\n    });\n    return this.socket$;\n  };\n  WebSocketTicketTacheService.prototype.sendMessage = function (message) {\n    this.socket$.next(message);\n  };\n  WebSocketTicketTacheService.ɵfac = function WebSocketTicketTacheService_Factory(t) {\n    return new (t || WebSocketTicketTacheService)();\n  };\n  WebSocketTicketTacheService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: WebSocketTicketTacheService,\n    factory: WebSocketTicketTacheService.ɵfac,\n    providedIn: 'root'\n  });\n  return WebSocketTicketTacheService;\n}();\nexport { WebSocketTicketTacheService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}