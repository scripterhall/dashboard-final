{"ast":null,"code":"import { __values } from \"tslib\";\nimport * as JSZip from \"jszip\";\nimport { ToastrService } from \"ngx-toastr\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nvar TablesComponent = /** @class */function () {\n  function TablesComponent(toastr) {\n    this.toastr = toastr;\n    this.zip = new JSZip();\n    this.formData = new FormData();\n  }\n  TablesComponent.prototype.ngOnInit = function () {};\n  TablesComponent.prototype.onFileChange = function (event) {\n    var e_1, _a;\n    console.log(event.target.files);\n    var files = event.target.files;\n    this.folderName = files[0].webkitRelativePath.split('/')[0];\n    var totalSize = 0;\n    for (var i = 0; i < files.length; i++) {\n      totalSize += files[i].size;\n    }\n    if (totalSize > 1000000000) {\n      this.toastr.error(\"ce fichier contient plus que 1GB\");\n    } else {\n      var folderNameDiv = document.getElementById(\"folderName\");\n      var folderDiv = document.getElementById(\"folder\");\n      folderDiv.classList.add(\"has-files\");\n      folderNameDiv.innerHTML = \"nom de dossier : \" + this.folderName;\n      try {\n        for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\n          var file = files_1_1.value;\n          var path = file.webkitRelativePath.split(\"\".concat(this.folderName, \"/\"))[1];\n          this.zip.file(path, file);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n  };\n  TablesComponent.prototype.uploadDos = function () {\n    var _this = this;\n    this.zip.generateAsync({\n      type: 'blob'\n    }).then(function (content) {\n      var formData = new FormData();\n      formData.append(\"compressedFile\", content, \"\".concat(_this.folderName, \".zip\"));\n      console.log(content);\n      console.log(\"data forme :\", formData);\n      /** appel au service Dossier */\n      /** end */\n    });\n  };\n\n  TablesComponent.ɵfac = function TablesComponent_Factory(t) {\n    return new (t || TablesComponent)(i0.ɵɵdirectiveInject(i1.ToastrService));\n  };\n  TablesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TablesComponent,\n    selectors: [[\"app-tables\"]],\n    decls: 98,\n    vars: 0,\n    consts: [[1, \"content\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-body\"], [\"id\", \"folder\", 1, \"file-upload\", 2, \"cursor\", \"pointer\"], [\"for\", \"folder-upload\"], [1, \"file-icon\", \"fas\", \"fa-folder\"], [\"type\", \"file\", \"id\", \"folder-upload\", \"webkitdirectory\", \"\", \"multiple\", \"\", 2, \"width\", \"100%\", \"height\", \"100%\", 3, \"change\"], [\"type\", \"button\", 1, \"file-upload-btn\", 3, \"click\"], [\"id\", \"folderName\", 1, \"file-name\"], [1, \"card\", \"card-plain\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"category\"], [1, \"table-responsive\"], [\"id\", \"\", 1, \"table\", \"tablesorter\"], [1, \"text-primary\"], [1, \"text-center\"]],\n    template: function TablesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵelementStart(7, \"label\", 6);\n        i0.ɵɵelement(8, \"i\", 7);\n        i0.ɵɵtext(9, \" S\\u00E9lectionnez un dossier \\u00E0 uploader\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 8);\n        i0.ɵɵlistener(\"change\", function TablesComponent_Template_input_change_10_listener($event) {\n          return ctx.onFileChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function TablesComponent_Template_button_click_11_listener() {\n          return ctx.uploadDos();\n        });\n        i0.ɵɵtext(12, \"Uploader\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"div\", 10);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"div\", 2)(15, \"div\", 11)(16, \"div\", 12)(17, \"h4\", 13);\n        i0.ɵɵtext(18, \"Table on Plain Background\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\", 14);\n        i0.ɵɵtext(20, \"Here is a subtitle for this table\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 15)(23, \"table\", 16)(24, \"thead\", 17)(25, \"tr\")(26, \"th\");\n        i0.ɵɵtext(27, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Country\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\", 18);\n        i0.ɵɵtext(33, \"Salary\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"tbody\")(35, \"tr\")(36, \"td\");\n        i0.ɵɵtext(37, \"Dakota Rice\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"td\");\n        i0.ɵɵtext(39, \"Niger\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"td\");\n        i0.ɵɵtext(41, \"Oud-Turnhout\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"td\", 18);\n        i0.ɵɵtext(43, \"$36,738\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"tr\")(45, \"td\");\n        i0.ɵɵtext(46, \"Minerva Hooper\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"td\");\n        i0.ɵɵtext(48, \"Cura\\u00C3\\u00A7ao\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"td\");\n        i0.ɵɵtext(50, \"Sinaai-Waas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"td\", 18);\n        i0.ɵɵtext(52, \"$23,789\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(53, \"tr\")(54, \"td\");\n        i0.ɵɵtext(55, \"Sage Rodriguez\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"td\");\n        i0.ɵɵtext(57, \"Netherlands\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"td\");\n        i0.ɵɵtext(59, \"Baileux\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"td\", 18);\n        i0.ɵɵtext(61, \"$56,142\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(62, \"tr\")(63, \"td\");\n        i0.ɵɵtext(64, \"Philip Chaney\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"td\");\n        i0.ɵɵtext(66, \"Korea, South\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"td\");\n        i0.ɵɵtext(68, \"Overland Park\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"td\", 18);\n        i0.ɵɵtext(70, \"$38,735\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(71, \"tr\")(72, \"td\");\n        i0.ɵɵtext(73, \"Doris Greene\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"td\");\n        i0.ɵɵtext(75, \"Malawi\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"td\");\n        i0.ɵɵtext(77, \"Feldkirchen in K\\u00C3\\u00A4rnten\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"td\", 18);\n        i0.ɵɵtext(79, \"$63,542\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(80, \"tr\")(81, \"td\");\n        i0.ɵɵtext(82, \"Mason Porter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"td\");\n        i0.ɵɵtext(84, \"Chile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"td\");\n        i0.ɵɵtext(86, \"Gloucester\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"td\", 18);\n        i0.ɵɵtext(88, \"$78,615\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(89, \"tr\")(90, \"td\");\n        i0.ɵɵtext(91, \"Jon Porter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"td\");\n        i0.ɵɵtext(93, \"Portugal\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"td\");\n        i0.ɵɵtext(95, \"Gloucester\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(96, \"td\", 18);\n        i0.ɵɵtext(97, \"$98,615\");\n        i0.ɵɵelementEnd()()()()()()()()()();\n      }\n    },\n    styles: [\".file-upload[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin: 20px;\\n  border: 1px rgba(255, 255, 255, 0.3) dashed;\\n}\\n\\ni[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n\\n.file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  margin-bottom: 0.5rem;\\n  text-align: center;\\n}\\n\\n\\n.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%] {\\n  display: none;\\n  cursor: pointer;\\n}\\n\\n.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%] {\\n  background-color: #f44336;\\n  border: none;\\n  color: #fff;\\n  cursor: pointer;\\n  font-size: 1rem;\\n  font-weight: bold;\\n  margin-top: 1rem;\\n  padding: 1rem 2rem;\\n  text-transform: uppercase;\\n}\\n\\n.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #d32f2f;\\n}\\n\\n.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n}\\n\\n.file-upload[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]:active {\\n  box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.3);\\n}\\n\\n\\n.file-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%] {\\n  font-size: 1rem;\\n  margin-top: 1rem;\\n  text-align: center;\\n}\\n\\n\\n.file-upload[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%] {\\n  font-size: 4rem;\\n  margin-bottom: 1rem;\\n}\\n\\n\\n.file-upload.has-files[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%] {\\n  background-color: #4caf50;\\n}\\n\\n.file-upload.has-files[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #388e3c;\\n}\\n\\n.file-upload.has-files[_ngcontent-%COMP%]   .file-upload-btn[_ngcontent-%COMP%]:active {\\n  box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.3);\\n}\\n\\n.file-upload.has-files[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%] {\\n  color: #4caf50;\\n}\\n\\n.file-upload.has-files[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%] {\\n  color: #4caf50;\\n}\"]\n  });\n  return TablesComponent;\n}();\nexport { TablesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}